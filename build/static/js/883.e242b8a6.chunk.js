"use strict";(self.webpackChunkrecetapp=self.webpackChunkrecetapp||[]).push([[883],{6018:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);var o=n(4270),i=n(184);const a=e=>{let{title:t,description:n,children:a}=e;return(0,i.jsxs)("div",{className:"mainApp",children:[(0,i.jsxs)(o.q,{children:[(0,i.jsx)("title",{children:t}),(0,i.jsx)("meta",{name:"description",content:n})]}),a]})}},883:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var o=n(2791),i=n(5294),a=n(6018),r=n(1889),s=n(5527),c=n(890),l=n(5423),d=n(493),u=n(4852),h=n(8165),m=n(5377),p=n(4294),g=n(4554),x=n(7689),Z=n(184);const j="http://localhost:3000";const v=function(){const[e,t]=(0,o.useState)(""),[n,v]=(0,o.useState)(""),[b,f]=(0,o.useState)(null),[B,C]=(0,o.useState)([]),[S,k]=(0,o.useState)([]),[E,R]=(0,o.useState)([]),[P,T]=(0,o.useState)([]),[W,D]=(0,o.useState)([]),[I,L]=(0,o.useState)([""]),U=(0,x.s0)();return(0,o.useEffect)((()=>{const e=sessionStorage.getItem("token");i.Z.post("".concat(j,"/api/obtenerUsuario"),{token:e}).then((e=>{const{usuario_id:t,correo:n}=e.data;D({usuario_id:t,correo:n}),console.log({usuario_id:t,correo:n})})).catch((e=>{console.error("Error:",e)}))}),[]),(0,o.useEffect)((()=>{i.Z.get("".concat(j,"/api/ingredientes")).then((e=>{const t=e.data.map((e=>e.nombre));C(t)})).catch((e=>{console.error("Error:",e)}))}),[]),(0,o.useEffect)((()=>{i.Z.get("".concat(j,"/api/utensilios")).then((e=>{const t=e.data.map((e=>e.nombre));R(t)})).catch((e=>{console.error("Error:",e)}))}),[]),(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(g.Z,{height:"100%",children:(0,Z.jsxs)(r.ZP,{container:!0,spacing:0,padding:2,children:[(0,Z.jsxs)(r.ZP,{item:!0,xs:12,md:5,marginBottom:1,marginRight:3,children:[(0,Z.jsxs)(s.Z,{sx:{padding:1},children:[(0,Z.jsx)(c.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Url de la imagen"}),(0,Z.jsx)(h.Z,{fullWidth:!0,label:"Url de la imagen",id:"fullWidth",value:b,onChange:e=>{f(e.target.value)}}),(0,Z.jsx)(l.Z,{sx:{alignItems:"center",height:100,minWidth:100}})]}),(0,Z.jsxs)(s.Z,{sx:{marginTop:2,padding:2},children:[(0,Z.jsx)(c.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Crear Receta"}),(0,Z.jsx)(h.Z,{sx:{marginTop:2},fullWidth:!0,label:"Titulo Receta",id:"fullWidth",value:e,onChange:e=>{t(e.target.value)}}),(0,Z.jsx)(h.Z,{sx:{marginTop:2},fullWidth:!0,multiline:!0,label:"Descripcion",placeholder:"Descripcion de la receta",value:n,onChange:e=>{v(e.target.value)}})]}),(0,Z.jsxs)(s.Z,{sx:{marginTop:2,padding:2},children:[(0,Z.jsx)(c.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Pasos De La Receta"}),I.map(((e,t)=>(0,Z.jsx)(h.Z,{sx:{marginTop:2},fullWidth:!0,label:"Pasos",value:e,onChange:e=>((e,t)=>{const n=[...I];n[e]=t.target.value,L(n)})(t,e)},t))),(0,Z.jsx)(p.Z,{onClick:()=>{""!==I[I.length-1]&&L((e=>[...e,""]))},children:"Agregar paso"})]})]}),(0,Z.jsxs)(r.ZP,{item:!0,xs:12,md:6.8,marginBottom:1,children:[(0,Z.jsxs)(s.Z,{sx:{padding:1,marginBottom:2},children:[(0,Z.jsx)(c.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Ingredientes"}),(0,Z.jsx)(m.Z,{multiple:!0,id:"combo-box-demo",options:B,sx:{width:300},onChange:(e,t)=>{k(t)},renderInput:e=>(0,Z.jsx)(h.Z,{...e,label:"Lista De Ingredientes"})}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(c.Z,{variant:"p",gutterBottom:!0,component:"div",children:"Lista de ingredientes"}),S.map((e=>(0,Z.jsx)(u.ZP,{children:e},e)))]})]}),(0,Z.jsxs)(s.Z,{sx:{padding:1,marginBottom:2},children:[(0,Z.jsx)(c.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Utensilios"}),(0,Z.jsx)(m.Z,{multiple:!0,id:"combo-box-demo",options:E,sx:{width:300},onChange:(e,t)=>{T(t)},renderInput:e=>(0,Z.jsx)(h.Z,{...e,label:"Lista De Utensilios"})}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(c.Z,{variant:"p",gutterBottom:!0,component:"div",children:"Lista de utensilios"}),P.map((e=>(0,Z.jsx)(u.ZP,{children:e},e)))]})]})]}),(0,Z.jsx)(s.Z,{sx:{marginTop:2},children:(0,Z.jsx)(p.Z,{variant:"contained",color:"primary",onClick:o=>{o.preventDefault();const a={titulo:e,descripcion:n,imagen:b,ingredientes:S.map((e=>({nombre:e}))),valoraciones:[],utensilios:P.map((e=>({nombre:e}))),procedimientos:I.map(((e,t)=>({Numpaso:t+1,instruccion:e}))),usuario:{usuario_id:W.usuario_id,correo:W.correo}};console.log(a),console.log(W),i.Z.post("".concat(j,"/api/crearReceta"),a).then((e=>{console.log("Receta creada:",e.data),alert("Receta creada con exito"),t(""),v(""),f(null),k([]),T([]),L([""]),U("/recetas")})).catch((e=>{console.error("Error:",e)}))},children:"Enviar Receta"})})]})})})}}}]);
//# sourceMappingURL=883.e242b8a6.chunk.js.map